<!DOCTYPE html>
<html lang="cs" id="html-root">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="extension.name">Kabinka - zkou≈°en√≠ obleƒçen√≠ na klik</title>
    <link rel="stylesheet" href="popup.css">
    <script src="../utils/i18n.js"></script>
</head>
<body>
    <div class="popup-container">
        <header class="popup-header">
            <h1>üëó <span data-i18n="popup.title">Kabinka</span></h1>
            <p class="subtitle" data-i18n="popup.subtitle">Vyzkou≈°ej obleƒçen√≠ na klik ‚Äì z pohodl√≠ domova.</p>
            <p class="moto" data-i18n="popup.motto">Najde≈°. Klikne≈°. Zkus√≠≈°.</p>
        </header>

        <main class="popup-main">
            <div id="setup-section" class="section">
                <h2>üîß <span data-i18n="popup.setup.title">Nastaven√≠</span></h2>
                
                <!-- API Key Section -->
                <div class="input-group">
                    <label for="api-key" data-i18n="popup.setup.apiKey.label">Gemini API kl√≠ƒç</label>
                    <input type="password" id="api-key" data-i18n-placeholder="popup.setup.apiKey.placeholder" placeholder="Vlo≈æ sv≈Øj Gemini API kl√≠ƒç">
                    <small class="help-text" data-i18n-html="popup.setup.apiKey.help">
                        Z√≠skej kl√≠ƒç na 
                        <a href="https://makersuite.google.com/app/apikey" target="_blank">Google AI Studio</a>
                    </small>
                    <div class="status-indicator" id="api-status">
                        <span class="status-dot"></span>
                        <span class="status-text" data-i18n="popup.setup.apiKey.statusNotSet">Nenastaveno</span>
                    </div>
                </div>

                <!-- Photo Upload Section -->
                <div class="input-group">
                    <label for="user-photo" data-i18n="popup.setup.photo.label">Tvoja fotka</label>
                    <div class="photo-upload-area" id="photo-upload">
                        <div class="upload-placeholder">
                            <div class="upload-icon">üì∑</div>
                            <p data-i18n="popup.setup.photo.placeholder">Nahraj svou fotku (JPG/PNG)</p>
                            <p class="upload-hint" data-i18n="popup.setup.photo.hint">Klikni nebo p≈ôet√°hni obr√°zek</p>
                        </div>
                        <input type="file" id="user-photo" accept="image/*" hidden>
                        <img id="photo-preview" class="photo-preview" style="display: none;">
                    </div>
                    <small class="help-text" data-i18n="popup.setup.photo.help">
                        Fotka se ukl√°d√° pouze lok√°lnƒõ v tv√©m prohl√≠≈æeƒçi
                    </small>
                    <div class="status-indicator" id="photo-status">
                        <span class="status-dot"></span>
                        <span class="status-text" data-i18n="popup.setup.photo.statusNotSet">Nenastaveno</span>
                    </div>
                </div>

                <!-- Language Selector -->
                <div class="input-group">
                    <label for="language-select" data-i18n="popup.setup.language.label">Jazyk</label>
                    <select id="language-select" class="language-selector">
                        <option value="cs">ƒåe≈°tina</option>
                        <option value="en">English</option>
                    </select>
                    <small class="help-text" data-i18n="popup.setup.language.help">
                        Jazyk rozhran√≠ roz≈°√≠≈ôen√≠
                    </small>
                </div>

                <button id="save-settings" class="btn-primary" disabled data-i18n="popup.setup.saveButton">
                    Ulo≈æit nastaven√≠
                </button>
            </div>

            <div id="ready-section" class="section" style="display: none;">
                <div class="success-message">
                    <div class="success-icon">‚úÖ</div>
                    <h2 data-i18n="popup.ready.title">V≈°e je p≈ôipraveno!</h2>
                    <p data-i18n="popup.ready.description">M≈Ø≈æe≈° nyn√≠ pou≈æ√≠vat funkci try-on na podporovan√Ωch str√°nk√°ch.</p>
                    
                    <div class="supported-sites">
                        <h3 data-i18n="popup.ready.supportedSites">Podporovan√© str√°nky:</h3>
                        <ul>
                            <li>üõçÔ∏è <a href="https://www.zalando.cz" target="_blank">Zalando.cz</a></li>
                            <li>üëó <a href="https://www.aboutyou.cz" target="_blank">AboutYou.cz</a></li>
                            <li>Nebo prav√Ω klik na jak√Ωkoliv obr√°zek</li>
                        </ul>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button id="test-extension" class="btn-secondary" data-i18n="popup.ready.testButton">
                        Otev≈ô√≠t podporovan√© str√°nky
                    </button>
                    <button id="edit-settings" class="btn-outline" data-i18n="popup.ready.editButton">
                        Upravit nastaven√≠
                    </button>
                </div>
            </div>

            <div id="usage-stats" class="section" style="display: none;">
                <h3>üìä <span data-i18n="popup.stats.title">Statistiky pou≈æit√≠</span></h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number" id="total-tryons">0</span>
                        <span class="stat-label" data-i18n="popup.stats.totalTryons">Celkem vyzkou≈°eno</span>
                    </div>
                </div>
                <button id="clear-cache" class="btn-outline" data-i18n="popup.stats.clearCache">
                    Vymazat cache
                </button>
            </div>
        </main>

        <footer class="popup-footer">
            <div class="version" data-i18n="popup.footer.version">Verze 1.0</div>
            <div class="links">
                <a href="#" id="help-link" data-i18n="popup.footer.help">N√°povƒõda</a>
                <a href="#" id="video-link" data-i18n="popup.footer.video">Videon√°vod</a>
                <a href="#" id="privacy-link" data-i18n="popup.footer.privacy">Soukrom√≠</a>
            </div>
        </footer>
        
        <!-- Octopus Branding Footer -->
        <div class="octopus-footer">
            <div class="octopus-branding">
                <img src="../octopus_piece_optimized.png" alt="Octopus" class="octopus-logo">
                <div class="branding-text">
                    <p>üß• <a href="https://kabinka.online" target="_blank" data-i18n="branding.website">kabinka.online</a></p>
                    <p><span data-i18n="branding.createdBy">Vytvo≈ôil</span> <a href="https://filipobornik.cz" target="_blank" data-i18n="branding.author">Filip Oborn√≠k</a> z <a href="https://aisrozumem.cz" target="_blank" data-i18n="branding.company">aisrozumem.cz</a></p>
                </div>
            </div>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>